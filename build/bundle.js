var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o,i;function a(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function c(e){return null==e?"":e}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function g(){return w(" ")}function v(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function Z(e){i=e}function b(e){(function(){if(!i)throw new Error("Function called outside component initialization");return i})().$$.on_mount.push(e)}const k=[],M=[],_=[],U=[],A=Promise.resolve();let L=!1;function R(e){_.push(e)}const C=new Set;let E=0;function V(){const e=i;do{for(;E<k.length;){const e=k[E];E++,Z(e),S(e.$$)}for(Z(null),k.length=0,E=0;M.length;)M.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];C.has(t)||(C.add(t),t())}_.length=0}while(k.length);for(;U.length;)U.pop()();L=!1,C.clear(),Z(e)}function S(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const T=new Set;const H="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function z(e,t){-1===e.$$.dirty[0]&&(k.push(e),L||(L=!0,A.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(r,o,a,c,u,d,p,f=[-1]){const m=i;Z(r);const w=r.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||m.$$.root};p&&p(w.root);let g=!1;if(w.ctx=a?a(r,o.props||{},((e,t,...n)=>{const l=n.length?n[0]:t;return w.ctx&&u(w.ctx[e],w.ctx[e]=l)&&(!w.skip_bound&&w.bound[e]&&w.bound[e](l),g&&z(r,e)),t})):[],w.update(),g=!0,l(w.before_update),w.fragment=!!c&&c(w.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);w.fragment&&w.fragment.l(e),e.forEach(h)}else w.fragment&&w.fragment.c();o.intro&&((v=r.$$.fragment)&&v.i&&(T.delete(v),v.i(x))),function(e,n,r,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,r),o||R((()=>{const n=a.map(t).filter(s);c?c.push(...n):l(n),e.$$.on_mount=[]})),u.forEach(R)}(r,o.target,o.anchor,o.customElement),V()}var v,x;Z(m)}const{document:I}=H;function Y(e,t,n){const l=e.slice();return l[15]=t[n],l}function j(e,t,n){const l=e.slice();return l[18]=t[n],l}function N(t){let n;return{c(){n=f("span"),x(n,"class","loader svelte-6su8dw")},m(e,t){d(e,n,t)},p:e,d(e){e&&h(n)}}}function O(e){let t,n,l,s,r,o,i,a,c,y,Z,b,k,M,_,U,A,L,R,C,E,V,S,T,H,z,B,I,N,O,P,W,J,K,Q,X,ee,te,ne,le=e[5].name+"",se=(e[3]||e[5].sourceUrl.split("//")[1])+"",re=(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})+"",oe=e[5].servings+"",ie=e[5].cookTime/60/1e6+"";function ae(e,t){return e[5].imageUrls[0]?D:q}let ce=ae(e),ue=ce(e),de=e[5].ingredients,he=[];for(let t=0;t<de.length;t+=1)he[t]=F(j(e,de,t));let pe=e[5].instructions,fe=[];for(let t=0;t<pe.length;t+=1)fe[t]=G(Y(e,pe,t));return{c(){t=f("div"),n=f("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--clarity svelte-6su8dw" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path fill="currentColor" d="m33.71 17.29l-15-15a1 1 0 0 0-1.41 0l-15 15a1 1 0 0 0 1.41 1.41L18 4.41l14.29 14.3a1 1 0 0 0 1.41-1.41Z" class="clr-i-outline clr-i-outline-path-1 svelte-6su8dw"></path><path fill="currentColor" d="M28 32h-5V22H13v10H8V18l-2 2v12a2 2 0 0 0 2 2h7V24h6v10h7a2 2 0 0 0 2-2V19.76l-2-2Z" class="clr-i-outline clr-i-outline-path-2 svelte-6su8dw"></path><path fill="none" d="M0 0h36v36H0z" class="svelte-6su8dw"></path></svg>',l=g(),s=f("div"),ue.c(),r=g(),o=f("h2"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ph svelte-6su8dw" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path fill="currentColor" d="M78 72V32a6 6 0 0 1 12 0v40a6 6 0 0 1-12 0Zm39.9-41a6 6 0 0 0-11.8 2l7.9 47.5a30 30 0 0 1-60 0L61.9 33a6 6 0 1 0-11.8-2l-8 48a3.4 3.4 0 0 0-.1 1a42.2 42.2 0 0 0 36 41.6V224a6 6 0 0 0 12 0V121.6A42.2 42.2 0 0 0 126 80a3.4 3.4 0 0 0-.1-1Zm92.1 1v192a6 6 0 0 1-12 0v-58h-50a6.1 6.1 0 0 1-4.5-2a6.4 6.4 0 0 1-1.5-4.6a412.4 412.4 0 0 1 11.7-59c11.9-41.8 28.1-66.7 48.2-74A6 6 0 0 1 210 32Zm-12 10.1c-25.7 19.4-39.1 81.1-43.2 111.9H198Z" class="svelte-6su8dw"></path></svg>\n        Ingredients',i=g(),a=f("ul");for(let e=0;e<he.length;e+=1)he[e].c();c=g(),y=f("div"),Z=f("h2"),b=f("a"),k=w(le),_=g(),U=f("div"),A=w("Saved from "),L=f("span"),R=w(se),C=w("\n        • "),E=w(re),V=g(),S=f("div"),T=m("svg"),H=m("path"),z=g(),B=w(oe),I=w(" servings •\n        "),N=m("svg"),O=m("path"),P=g(),W=w(ie),J=w(" minutes"),K=g(),Q=f("h2"),Q.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ph svelte-6su8dw" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path fill="currentColor" d="M222 128a6 6 0 0 1-6 6h-88a6 6 0 0 1 0-12h88a6 6 0 0 1 6 6Zm-94-58h88a6 6 0 0 0 0-12h-88a6 6 0 0 0 0 12Zm88 116h-88a6 6 0 0 0 0 12h88a6 6 0 0 0 0-12ZM87.9 43.6L57.3 71.8L44.1 59.6a6 6 0 0 0-8.2 8.8l17.4 16a5.7 5.7 0 0 0 4 1.6a5.7 5.7 0 0 0 4.1-1.6l34.7-32a6 6 0 1 0-8.2-8.8Zm0 64l-30.6 28.2l-13.2-12.2a6 6 0 0 0-8.2 8.8l17.4 16a5.7 5.7 0 0 0 4 1.6a5.7 5.7 0 0 0 4.1-1.6l34.7-32a6 6 0 1 0-8.2-8.8Zm0 64l-30.6 28.2l-13.2-12.2a6 6 0 0 0-8.2 8.8l17.4 16a5.7 5.7 0 0 0 4 1.6a5.7 5.7 0 0 0 4.1-1.6l34.7-32a6 6 0 1 0-8.2-8.8Z" class="svelte-6su8dw"></path></svg>\n        Steps',X=g(),ee=f("ol");for(let e=0;e<fe.length;e+=1)fe[e].c();x(n,"id","home"),x(n,"class","svelte-6su8dw"),x(o,"class","ingredientsHeader svelte-6su8dw"),x(a,"id","ingredients"),x(a,"class","svelte-6su8dw"),x(s,"class","column imageColumn svelte-6su8dw"),x(b,"href",M=e[5].sourceUrl),x(b,"class","svelte-6su8dw"),x(Z,"class","title svelte-6su8dw"),x(L,"id","url_link"),x(L,"class","svelte-6su8dw"),x(U,"id","url"),x(U,"class","svelte-6su8dw"),x(H,"fill","currentColor"),x(H,"d","M237.6 78.9a13.9 13.9 0 0 0-3.7-18.9a181.9 181.9 0 0 0-211.8 0a13.9 13.9 0 0 0-3.7 18.9l97.8 153.7a14 14 0 0 0 23.6 0l58.4-91.8h.1ZM29.1 69.7a170.1 170.1 0 0 1 197.8 0a2.1 2.1 0 0 1 .6 2.8l-9.8 15.3a149.9 149.9 0 0 0-179.4 0l-9.8-15.3a2.1 2.1 0 0 1 .6-2.8Zm35.6 59.7a22 22 0 1 1 20.7 32.5Zm65 96.8a2.1 2.1 0 0 1-3.4 0l-33.9-53.3a34 34 0 1 0-34.7-54.5L44.7 98a137.9 137.9 0 0 1 166.6 0l-19.4 30.4a34 34 0 1 0-36.5 57.3Zm32.2-50.7A22 22 0 0 1 172 134a21.5 21.5 0 0 1 13.4 4.6Z"),x(H,"class","svelte-6su8dw"),x(T,"xmlns","http://www.w3.org/2000/svg"),x(T,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(T,"aria-hidden","true"),x(T,"role","img"),x(T,"class","iconify iconify--ph svelte-6su8dw"),x(T,"width","32"),x(T,"height","32"),x(T,"preserveAspectRatio","xMidYMid meet"),x(T,"viewBox","0 0 256 256"),x(O,"fill","currentColor"),x(O,"d","M128 230a102 102 0 1 1 102-102a102.2 102.2 0 0 1-102 102Zm0-192a90 90 0 1 0 90 90a90.1 90.1 0 0 0-90-90Zm62 90a6 6 0 0 0-6-6h-50V72a6 6 0 0 0-12 0v56a6 6 0 0 0 6 6h56a6 6 0 0 0 6-6Z"),x(O,"class","svelte-6su8dw"),x(N,"xmlns","http://www.w3.org/2000/svg"),x(N,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(N,"aria-hidden","true"),x(N,"role","img"),x(N,"class","iconify iconify--ph svelte-6su8dw"),x(N,"width","32"),x(N,"height","32"),x(N,"preserveAspectRatio","xMidYMid meet"),x(N,"viewBox","0 0 256 256"),x(S,"id","details"),x(S,"class","svelte-6su8dw"),x(Q,"class","recipe svelte-6su8dw"),x(ee,"id","steps"),x(ee,"class","svelte-6su8dw"),x(y,"class","column recipeColumn svelte-6su8dw"),x(t,"class","container svelte-6su8dw")},m(h,p){d(h,t,p),u(t,n),u(t,l),u(t,s),ue.m(s,null),u(s,r),u(s,o),u(s,i),u(s,a);for(let e=0;e<he.length;e+=1)he[e].m(a,null);u(t,c),u(t,y),u(y,Z),u(Z,b),u(b,k),u(y,_),u(y,U),u(U,A),u(U,L),u(L,R),u(U,C),u(U,E),u(y,V),u(y,S),u(S,T),u(T,H),u(S,z),u(S,B),u(S,I),u(S,N),u(N,O),u(S,P),u(S,W),u(S,J),u(y,K),u(y,Q),u(y,X),u(y,ee);for(let e=0;e<fe.length;e+=1)fe[e].m(ee,null);te||(ne=v(n,"click",e[10]),te=!0)},p(e,t){if(ce===(ce=ae(e))&&ue?ue.p(e,t):(ue.d(1),ue=ce(e),ue&&(ue.c(),ue.m(s,r))),32&t){let n;for(de=e[5].ingredients,n=0;n<de.length;n+=1){const l=j(e,de,n);he[n]?he[n].p(l,t):(he[n]=F(l),he[n].c(),he[n].m(a,null))}for(;n<he.length;n+=1)he[n].d(1);he.length=de.length}if(32&t&&le!==(le=e[5].name+"")&&$(k,le),32&t&&M!==(M=e[5].sourceUrl)&&x(b,"href",M),40&t&&se!==(se=(e[3]||e[5].sourceUrl.split("//")[1])+"")&&$(R,se),32&t&&oe!==(oe=e[5].servings+"")&&$(B,oe),32&t&&ie!==(ie=e[5].cookTime/60/1e6+"")&&$(W,ie),32&t){let n;for(pe=e[5].instructions,n=0;n<pe.length;n+=1){const l=Y(e,pe,n);fe[n]?fe[n].p(l,t):(fe[n]=G(l),fe[n].c(),fe[n].m(ee,null))}for(;n<fe.length;n+=1)fe[n].d(1);fe.length=pe.length}},d(e){e&&h(t),ue.d(),p(he,e),p(fe,e),te=!1,ne()}}}function P(e){let t,n,s,r,o,i;return{c(){t=f("input"),n=g(),s=f("button"),r=w("Go"),x(t,"spellcheck","false"),x(t,"type","text"),x(t,"placeholder","Enter a recipe URL"),x(t,"class","svelte-6su8dw"),s.disabled=e[6],x(s,"class","svelte-6su8dw")},m(l,a){d(l,t,a),y(t,e[0]),d(l,n,a),d(l,s,a),u(s,r),o||(i=[v(t,"input",e[8]),v(t,"keyup",e[9]),v(s,"click",e[7])],o=!0)},p(e,n){1&n&&t.value!==e[0]&&y(t,e[0]),64&n&&(s.disabled=e[6])},d(e){e&&h(t),e&&h(n),e&&h(s),o=!1,l(i)}}}function q(t){let n,l,s;return{c(){n=m("svg"),l=m("path"),s=m("path"),x(l,"fill","currentColor"),x(l,"d","M40 176V48a8 8 0 0 1 8-8h160a8 8 0 0 1 8 8v112l-42.3-42.3a8 8 0 0 0-11.4 0l-44.6 44.6a8 8 0 0 1-11.4 0l-20.6-20.6a8 8 0 0 0-11.4 0Z"),x(l,"opacity",".2"),x(l,"class","svelte-6su8dw"),x(s,"fill","currentColor"),x(s,"d","M88 92a12 12 0 1 1 12 12a12 12 0 0 1-12-12Zm136-44v160a16 16 0 0 1-16 16H48a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16ZM48 156.7L68.7 136a16.1 16.1 0 0 1 22.6 0l20.7 20.7l44.7-44.7a16.1 16.1 0 0 1 22.6 0l28.7 28.7V48H48ZM208 208v-44.7l-40-40l-44.7 44.7a16.1 16.1 0 0 1-22.6 0L80 147.3l-32 32V208Z"),x(s,"class","svelte-6su8dw"),x(n,"class","noImage svelte-6su8dw"),x(n,"xmlns","http://www.w3.org/2000/svg"),x(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),x(n,"aria-hidden","true"),x(n,"role","img"),x(n,"width","32"),x(n,"height","32"),x(n,"preserveAspectRatio","xMidYMid meet"),x(n,"viewBox","0 0 256 256")},m(e,t){d(e,n,t),u(n,l),u(n,s)},p:e,d(e){e&&h(n)}}}function D(e){let t,n,l,s,r;return{c(){t=f("img"),x(t,"alt",n=e[5].name+" image"),x(t,"class","recipeImage svelte-6su8dw"),a(t.src,l=e[5].imageUrls[0])||x(t,"src",l)},m(n,l){d(n,t,l),e[11](t),s||(r=v(t,"error",e[12]),s=!0)},p(e,s){32&s&&n!==(n=e[5].name+" image")&&x(t,"alt",n),32&s&&!a(t.src,l=e[5].imageUrls[0])&&x(t,"src",l)},d(n){n&&h(t),e[11](null),s=!1,r()}}}function F(e){let t,n,l,s=e[18].name+"";return{c(){t=f("li"),n=w(s),l=g(),x(t,"class","ingredient svelte-6su8dw")},m(e,s){d(e,t,s),u(t,n),u(t,l)},p(e,t){32&t&&s!==(s=e[18].name+"")&&$(n,s)},d(e){e&&h(t)}}}function G(e){let t,n,l,s,r=e[15].text+"";return{c(){t=f("li"),n=w(r),l=g(),x(t,"class",s=c(e[15].isOptional?"optional":"")+" svelte-6su8dw")},m(e,s){d(e,t,s),u(t,n),u(t,l)},p(e,l){32&l&&r!==(r=e[15].text+"")&&$(n,r),32&l&&s!==(s=c(e[15].isOptional?"optional":"")+" svelte-6su8dw")&&x(t,"class",s)},d(e){e&&h(t)}}}function W(t){let n,l,s;function r(e,t){return"home"===e[1]?P:"recipe"===e[1]?O:"loading"===e[1]?N:void 0}I.title=n=t[2];let o=r(t),i=o&&o(t);return{c(){l=g(),i&&i.c(),s=w("")},m(e,t){d(e,l,t),i&&i.m(e,t),d(e,s,t)},p(e,[t]){4&t&&n!==(n=e[2])&&(I.title=n),o===(o=r(e))&&i?i.p(e,t):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(s.parentNode,s)))},i:e,o:e,d(e){e&&h(l),i&&i.d(e),e&&h(s)}}}function J(e,t,n){let l,s,r="home",o="Recipes",i=null,a="",c=!1,u={};async function d(){if(!c){if(console.log({disabled:l,printing:c,shortUrl:i,recipe:u,title:o,inputVal:a}),!i&&!u.sourceUrl)return console.log("Resetting history"),history.pushState({},o,"/");history.pushState({},o,`${location.pathname||""}?url=${i?.split("//")?.[1]?.split("/")?.[1]||u?.sourceUrl||a}`)}}async function h(e,t,s=!1){if(console.log("Loading recipe"),l&&!s)return;if(!(t||a).match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/)){if(!t&&a)return alert("Invalid URL");t=`https://is.gd/${encodeURIComponent(t)}`,n(3,i=t)}n(1,r="loading");let c=await fetch(`https://cors.explosionscratc.repl.co/www.justtherecipe.com/extractRecipeAtUrl?url=${encodeURIComponent(t||a)}`);if(!c.ok)return prompt("There was an error",await c.text()||c.status),n(1,r="home"),d();n(5,u=await c.json()),n(2,o=u.name),n(1,r="recipe"),d()}b((()=>{new URLSearchParams(location.search).get("url")&&h(null,new URLSearchParams(location.search).get("url"),!0),document.querySelector("input").onpaste=async()=>{await new Promise((e=>setTimeout(e,10))),console.log("Pasted"),h(null,null,!0)},window.onafterprint=()=>(c=!1,d()),window.onbeforeprint=async()=>{if(c=!0,u.sourceUrl&&!i&&!u.sourceUrl.includes("//is.gd")){if(n(3,i=await fetch(`https://cors.explosionscratc.repl.co/is.gd/create.php?format=simple&url=${encodeURIComponent(u.sourceUrl)}`).then((e=>e.text()))),!i.startsWith("http"))return d(),n(3,i=null);d()}}}));return e.$$.update=()=>{1&e.$$.dirty&&n(6,l=!a.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/))},[a,r,o,i,s,u,l,h,function(){a=this.value,n(0,a)},e=>"Enter"===e.key&&h(),()=>(n(1,r="home"),n(3,i=null),n(5,u={}),n(6,l=!0)),function(e){M[e?"unshift":"push"]((()=>{s=e,n(4,s)}))},()=>s.src.includes("cors.explosionscratc")?"":n(4,s.src=`https://cors.explosionscratc.repl.co/${s.src.split("//")[1]}`,s)]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),B(this,e,J,W,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
